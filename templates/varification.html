<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/css/tempusdominus-bootstrap-4.min.css">

    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
    <title>"varification"</title>
</head>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<div id="varificateMod">
<h1 id="aa">to confirm the mail press the button</h1>
<button id="a" onclick="varificate()" class="btn btn-primary" type="submit">confirm</button>
</div>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>

<script>

    function varificate() {
        const queryString = window.location;
        const a = queryString.toString()
        const b = a.split('/')
        const c = b.pop()   //оце і є наш токен
       // alert(c)
            $.ajax({

                type: 'PATCH',
                url: '/varification/'+c,
                dataType: 'json',
                beforeSend: function (x) {
                    x.setRequestHeader('Content-Type', 'application/json');
                },
                success:
                    alert("Successfully confirmed!"),
                error: function (x) {
                    console.log(x.responseJSON);
                }
            });
        }

//         $.ajax({
//
//             type: 'POST',
//             url: '/api/group',
//             dataType: 'json',
//             data: JSON.stringify({
//                 surname: "dd",
//                 name: "dd",
//                 email:"dd",
//                 phone: "dd",
//                 description: "dd",
//                 varificated:true,
//                 token: "tkn"
//             })
//             ,
//             beforeSend: function (x) {
//                 x.setRequestHeader('Content-Type', 'application/json');
//             },
//             success:
//                 function () {
// alert("dd")
//
//                 },
//             error: function (x) {
//                 console.log(x.responseJSON);
//             }
//         })
    //     }

// $(document).ready(function()
// $(document).on('click', a , function (){
//
//     alert('dfkd');
//     $('#varificateMod').submit(function (e) {
//         e.preventDefault();
//         $.ajax({
//
//                 type: 'GET',
//                 url: '/varification/make/:id',
//                 dataType: 'json',
//                 beforeSend: function (x) {
//                     x.setRequestHeader('Content-Type', 'application/json');
//                 },
//                 success:
//                     alert("Надіслано заявку !"),
//                 error: function (x) {
//                     console.log(x.responseJSON);
//                 }
//             });
//
//
//         })})


</script>
</body>



</html>
